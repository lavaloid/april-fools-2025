---
import Board from "../lib/game.astro";
import { Grid } from "../lib/grid";
import { type Cell } from "../lib/puzzle";

type Props = {
  puzzle: string;
};
const { puzzle } = Astro.props;

const puzzleSplit = puzzle
  .split("\n")
  .filter((line) => line.trim().length > 0)
  .map(
    (line) =>
      line
        .trim()
        .match(/.{1,2}/g)!
        .map((v) => v) as Cell[]
  ); // idk why this works i stole it from stack overflow
---

<h1>読み込み中です...</h1>

<Board puzzle={new Grid<Cell>(puzzleSplit)} />
